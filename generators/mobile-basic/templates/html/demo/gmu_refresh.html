<!DOCTYPE html>
<html>
<!-- manifest="/misc/sp.manifest" -->

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="gray" />
    <title>页面smart版本</title>
    <link href="bower_components/gmu/dist/reset.css" rel="stylesheet" type="text/css" />
    <link href="bower_components/gmu/dist/gmu.css" rel="stylesheet" type="text/css" />
    <link href="style/base.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
    .b-demo-wrap {
        padding: 5px;
    }
    </style>
    <!-- Include the compiled Ratchet CSS -->
    <!--[if IE]>
    <script>
        document.createElement("header");
        document.createElement("footer");
        document.createElement("nav");
        document.createElement("article");
        document.createElement("section");
    </script>
    <![endif]-->
    <script src="http://10.240.136.154:9922/target/target-script-min.js#anonymous"></script>

    <!--
        <script src="http://10.240.136.154:35729/livereload.js"></script>
        <script src="http://jsconsole.com/remote.js?9C92D5FE-43C0-4A30-BA95-F531E46B9271"></script>
        -->
</head>

<body>

    <!-- Make sure all your bars are the first things in your <body> -->
    <header class="bar bar-nav">
        <h1 class="title">下拉式刷新图片 演示</h1>
    </header>
    <!-- Wrap all non-bar HTML in the .content div (this is actually what scrolls) -->
    <div class="content">
        <div class="ui-refresh">
            <ul class="data-list"></ul>
            <div class="ui-refresh-down"></div>
            <!--setup方式带有class为ui-refresh-down或ui-refresh-up的元素必须加上，用于放refresh按钮-->
        </div>

    </div>


    </div>

    <!--jsmerge_begin:c0.js-->
    <script type="text/javascript" src="bower_components/gmu/dist/zepto.js"></script>
    <script type="text/javascript" src="bower_components/gmu/dist/gmu.js"></script>
    <script type="text/javascript" src="bower_components/seajs/dist/sea.js"></script>
    <!--jsmerge_end:c0.js-->

    <!--jsmerge_begin:app.js-->
    <script type="text/javascript" src="js/app/util.js"></script>
    <script type="text/javascript" src="js/app/ajax.js"></script>
    <script type="text/javascript" src="js/app/main.js"></script>
    <!--jsmerge_end:app.js-->

    <script type="text/javascript">
    var data = [];
          $.each([3,4,5,6,7,8,9,10],function(index, item){
            data.push('<li><img style="max-width:100%;text-align:center;" src="images/image('+item+').jpg"/></li>');
          });
             var $list = $('.data-list');
             $list.html(data.join(''));
          
   $('.ui-refresh').refresh({
     load: function (dir, type) {
         var me = this;
         window.setTimeout(function (_data) {
          
                     var html = data.join('');
             $list[dir == 'up' ? 'prepend' : 'append'](html);
             me.afterDataLoading();    //数据加载完成后改变状态
         },500);
     }
 });
    </script>
</body>

</html>
